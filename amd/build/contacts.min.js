define("block_dash/contacts",["core/str","core/modal_factory","core/modal_events","core/fragment","core/templates","core/notification","core_message/toggle_contact_button"],(function(Str,Modal,ModalEvents,Fragment,Templates,Notification,Contact){return{init:function(contextID){var contactUser,groupModal=document.getElementsByClassName("contact-widget-viewgroup");Array.from(groupModal).forEach((function(element){element.addEventListener("click",(function(e){e.preventDefault();var target=e.target.closest("a");contactUser=target.getAttribute("data-userid"),Modal.create({title:Str.get_string("groups","core")}).then((function(modal){modal.show();var params={widget:"contacts",method:"load_groups",args:JSON.stringify({contactuser:contactUser})};return Fragment.loadFragment("block_dash","loadwidget",contextID,params).then(((html,js)=>(modal.setBody(html),Templates.runTemplateJS(js),html))).catch(Notification.exception),modal.getRoot().on(ModalEvents.hidden,(function(){modal.destroy()})),modal})).catch(Notification.exception)}))}));var contactModal=document.getElementsByClassName("toggle-contact-button");Array.from(contactModal).forEach((function(element){element.addEventListener("click",(function(e){e.preventDefault(),null!=e.target.dataset.userid&&Contact.enhance(e.target)}))}))}}}));

//# sourceMappingURL=contacts.min.js.map