{"version":3,"file":"contacts.min.js","sources":["../src/contacts.js"],"sourcesContent":["define(['jquery', 'core/str', 'core/modal_factory', 'core/modal_events', 'core/fragment', 'core/templates'],\r\n    function($, Str, Modal, ModalEvents, Fragment, Templates) {\r\n\r\n    return {\r\n        init: function(contextID) {\r\n            var groupModal = document.getElementsByClassName('contact-widget-viewgroup');\r\n            var contactUser;\r\n            Array.from(groupModal).forEach(function(element) {\r\n                element.addEventListener('click', function(e) {\r\n                    e.preventDefault();\r\n                    var target = e.target.closest('a');\r\n                    contactUser = target.getAttribute('data-userid');\r\n                    Modal.create({\r\n                        title: Str.get_string('groups', 'core')\r\n                    }).then(function(modal) {\r\n                        modal.show();\r\n                        // modal.getRoot().on(ModalEvents.shown, function() {\r\n                        var args = JSON.stringify({contactuser: contactUser});\r\n                        var params = {widget: 'contacts', method: 'load_groups', args: args };\r\n                        Fragment.loadFragment('block_dash', 'loadwidget', contextID, params).then((html, js) => {\r\n                            modal.setBody(html);\r\n                            Templates.runTemplateJS(js);\r\n                        });\r\n                        // });\r\n                        modal.getRoot().on(ModalEvents.hidden, function() {\r\n                            modal.destroy();\r\n                        });\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    };\r\n});"],"names":["define","$","Str","Modal","ModalEvents","Fragment","Templates","init","contextID","contactUser","groupModal","document","getElementsByClassName","Array","from","forEach","element","addEventListener","e","preventDefault","target","closest","getAttribute","create","title","get_string","then","modal","show","params","widget","method","args","JSON","stringify","contactuser","loadFragment","html","js","setBody","runTemplateJS","getRoot","on","hidden","destroy"],"mappings":"AAAAA,6BAAO,CAAC,SAAU,WAAY,qBAAsB,oBAAqB,gBAAiB,mBACtF,SAASC,EAAGC,IAAKC,MAAOC,YAAaC,SAAUC,iBAExC,CACHC,KAAM,SAASC,eAEPC,YADAC,WAAaC,SAASC,uBAAuB,4BAEjDC,MAAMC,KAAKJ,YAAYK,SAAQ,SAASC,SACpCA,QAAQC,iBAAiB,SAAS,SAASC,GACvCA,EAAEC,qBACEC,OAASF,EAAEE,OAAOC,QAAQ,KAC9BZ,YAAcW,OAAOE,aAAa,eAClCnB,MAAMoB,OAAO,CACTC,MAAOtB,IAAIuB,WAAW,SAAU,UACjCC,MAAK,SAASC,OACbA,MAAMC,WAGFC,OAAS,CAACC,OAAQ,WAAYC,OAAQ,cAAeC,KAD9CC,KAAKC,UAAU,CAACC,YAAa1B,eAExCJ,SAAS+B,aAAa,aAAc,aAAc5B,UAAWqB,QAAQH,MAAK,SAACW,KAAMC,IAC7EX,MAAMY,QAAQF,MACd/B,UAAUkC,cAAcF,OAG5BX,MAAMc,UAAUC,GAAGtC,YAAYuC,QAAQ,WACnChB,MAAMiB"}